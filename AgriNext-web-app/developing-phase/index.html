<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Smart Agriculture System</title>

<style>
:root{--bg:#0b1116;--card:#121a21;--accent:#00c4ac;--text:#e8eef1;--muted:#9aa0a8;}
body{margin:0;background:var(--bg);font-family:Poppins,sans-serif;color:var(--text);}
.container{display:flex;gap:20px;padding:20px;}
.sidebar{width:350px;background:var(--card);padding:20px;border-radius:16px;box-shadow:0 10px 25px rgba(0,0,0,0.6);}
label{margin-top:12px;display:block;color:var(--muted);}
select,input{width:100%;padding:12px;margin-top:5px;border-radius:10px;border:1px solid #223036;background:#0e171d;color:white;}
button{width:100%;background:var(--accent);border:none;color:black;padding:12px;margin-top:12px;font-weight:bold;border-radius:10px;cursor:pointer;}
button:hover{box-shadow:0 0 12px var(--accent);}
.micBtn{width:50px;height:50px;background:#063a29;border-radius:50%;font-size:20px;color:var(--accent);margin:10px auto;display:flex;align-items:center;justify-content:center;cursor:pointer;}
.output{flex:1;background:var(--card);padding:20px;border-radius:16px;}
#cropImage{width:180px;height:180px;border-radius:12px;object-fit:cover;display:none;}
#resultBox{background:#093424;margin-top:20px;padding:20px;border-radius:12px;transform:scale(.9);opacity:0;transition:.4s ease;color:#d8ffe9;}
#resultBox.show{transform:scale(1);opacity:1;}
.infoCard{margin-top:20px;background:#0f2421;padding:15px;border-radius:12px;border-left:5px solid var(--accent);}
.distCard{display:flex;align-items:center;background:#102a33;padding:10px;border-radius:10px;margin-bottom:10px;}
.tipItem{display:flex;align-items:center;margin-bottom:12px;}
.tipIcon{width:40px;margin-right:12px;}
#tipsTricksBox{display:none;margin-top:20px;background:#0a2620;border-left:6px solid #00c4ac;padding:15px;border-radius:12px;}
</style>
</head>

<body>

<div class="container">

<!-- LEFT PANEL -->
<div class="sidebar">
<h2 style="color:var(--accent)">Smart AgriSense üåæ</h2>

<label>Select Language</label>
<select id="lang">
  <option value="en">English</option>
  <option value="mr">‡§Æ‡§∞‡§æ‡§†‡•Ä</option>
  <option value="hi">‡§π‡§ø‡§Ç‡§¶‡•Ä</option>
</select>

<label>Audio Output</label>
<select id="audioToggle">
  <option value="on">Audio ON</option>
  <option value="off">Audio OFF</option>
</select>

<label>Select District</label>
<select id="district">
  <option>Pune</option><option>Nashik</option><option>Aurangabad</option>
  <option>Kolhapur</option><option>Amravati</option><option>Jalgaon</option><option>Sangli</option>
</select>

<button onclick="detectLocation()">üìç Auto Detect District</button>

<label>Select Crop</label>
<select id="crop">
  <option value="Wheat">Wheat / ‡§ó‡§π‡•Ç</option>
  <option value="Rice">Rice / ‡§≠‡§æ‡§§</option>
  <option value="Cotton">Cotton / ‡§ï‡§æ‡§™‡•Ç‡§∏</option>
  <option value="Soybean">Soybean / ‡§∏‡•ã‡§Ø‡§æ‡§¨‡•Ä‡§®</option>
  <option value="Sugarcane">Sugarcane / ‡§ä‡§∏</option>
</select>

<label>Soil Type</label>
<select id="soil">
  <option>Black Soil</option><option>Red Soil</option>
  <option>Sandy Soil</option><option>Clay Soil</option><option>Loamy Soil</option>
</select>

<label>Farm Size (Acres)</label>
<input id="area" type="number" placeholder="Ex: 2">

<button onclick="predict()">Predict</button>

<div class="micBtn" onclick="startVoice()">üé§</div>
<center><small>Tap mic ‚Üí Speak crop (‡§ó‡§π‡•Ç, ‡§≠‡§æ‡§§, ‡§ï‡§æ‡§™‡•Ç‡§∏...)</small></center>
</div>

<!-- RIGHT PANEL -->
<div class="output">
<h2>Smart Agriculture Results</h2>

<div id="distInfo" class="distCard">
<img src="https://cdn-icons-png.flaticon.com/512/684/684908.png" width="40">
<span id="distText">Select district to show information</span>
</div>

<img id="cropImage">

<div id="resultBox">Fill details and click Predict.</div>

<div id="weatherBox" class="infoCard"></div>
<div id="apmcBox" class="infoCard"></div>
<div id="cropSuggestBox" class="infoCard"></div>

<!-- TIPS -->
<div id="tipsTricksBox" class="infoCard">
<h3>üå± Tips & Tricks for Better Farming</h3>

<div class="tipItem">
<img src="https://cdn-icons-png.flaticon.com/512/2907/2907253.png" class="tipIcon">
<p><b>Soil Testing:</b> Test soil every 6 months.</p>
</div>

<div class="tipItem">
<img src="https://cdn-icons-png.flaticon.com/512/3209/3209887.png" class="tipIcon">
<p><b>Drip Irrigation:</b> Saves 40% water.</p>
</div>

<div class="tipItem">
<img src="https://cdn-icons-png.flaticon.com/512/3176/3176292.png" class="tipIcon">
<p><b>Crop Rotation:</b> Improves soil health.</p>
</div>

<div class="tipItem">
<img src="https://cdn-icons-png.flaticon.com/512/2913/2913465.png" class="tipIcon">
<p><b>Pest Control:</b> Use pheromone traps.</p>
</div>

<div class="tipItem">
<img src="https://cdn-icons-png.flaticon.com/512/3082/3082039.png" class="tipIcon">
<p><b>Weather Check:</b> Avoid spraying before rain.</p>
</div>

</div>

</div>
</div>

<script>

/* ‚úÖ FIXED WORKING IMAGE LINKS */
const cropImages = {
  Wheat: "image/4.jpg",
  Rice: "image/5.webp",
  Cotton: "image/5.webp",
  Soybean: "image/4.jpg",
  Sugarcane: "image/4.jpg"
};


/* LANGUAGE PACK */
const langText={
en:{district:"DISTRICT",crop:"CROP",soil:"SOIL",area:"AREA",
fertilizer:"Recommended Fertilizer",tips:"Detailed Tips (35 lines)",
buyTitle:"Buy Fertilizers Online",buyBtn:"üõí Click Here to Buy from AgriBegri"},
mr:{district:"‡§ú‡§ø‡§≤‡•ç‡§π‡§æ",crop:"‡§™‡•Ä‡§ï",soil:"‡§Æ‡§æ‡§§‡•Ä",area:"‡§∂‡•á‡§§‡•Ä ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞",
fertilizer:"‡§∂‡§ø‡§´‡§æ‡§∞‡§∏ ‡§ï‡•á‡§≤‡•á‡§≤‡•á ‡§ñ‡§§",tips:"‡§§‡§™‡§∂‡•Ä‡§≤‡§µ‡§æ‡§∞ ‡§∏‡•Ç‡§ö‡§®‡§æ (‡•©‡•´ ‡§Æ‡•Å‡§¶‡•ç‡§¶‡•á)",
buyTitle:"‡§ë‡§®‡§≤‡§æ‡§à‡§® ‡§ñ‡§§ ‡§ñ‡§∞‡•á‡§¶‡•Ä ‡§ï‡§∞‡§æ",buyBtn:"üõí ‡§Ø‡•á‡§•‡•á ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡§æ - AgriBegri"},
hi:{district:"‡§ú‡§ø‡§≤‡§æ",crop:"‡§´‡§∏‡§≤",soil:"‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä",area:"‡§ñ‡•á‡§§‡•Ä ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞",
fertilizer:"‡§Ö‡§®‡•Å‡§∂‡§Ç‡§∏‡§ø‡§§ ‡§â‡§∞‡•ç‡§µ‡§∞‡§ï",tips:"‡§µ‡§ø‡§∏‡•ç‡§§‡•É‡§§ ‡§∏‡•Å‡§ù‡§æ‡§µ (35 ‡§≤‡§æ‡§á‡§®)",
buyTitle:"‡§ë‡§®‡§≤‡§æ‡§á‡§® ‡§â‡§∞‡•ç‡§µ‡§∞‡§ï ‡§ñ‡§∞‡•Ä‡§¶‡•á‡§Ç",buyBtn:"üõí ‡§Ø‡§π‡§æ‡§Å ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡•á‡§Ç - AgriBegri"}
};

/* LONG TIPS */
const longTips={
Wheat:`Seed treatment...`,
Rice:`Water mgmt...`,
Cotton:`Spacing...`,
Soybean:`Root nodulation...`,
Sugarcane:`Setts planting...`
};

/* WEATHER DATA */
const weatherData={
Pune:"29¬∞C | Good for Sugarcane",
Nashik:"Cool | Best for Grapes",
Aurangabad:"Dry | Cotton suitable",
Kolhapur:"Humid | Best for Rice",
Amravati:"Hot | Soybean suitable",
Jalgaon:"Dry | Cotton & Banana",
Sangli:"Good for Grapes"
};

/* APMC RATES */
const apmcRates={
Pune:"Sugarcane ‚Çπ3000/ton | Wheat ‚Çπ2400/q",
Nashik:"Grapes ‚Çπ55/kg | Wheat ‚Çπ2200/q",
Aurangabad:"Cotton ‚Çπ6800/q",
Kolhapur:"Rice ‚Çπ3200/q | Turmeric ‚Çπ140/kg",
Amravati:"Soybean ‚Çπ4600/q",
Jalgaon:"Banana ‚Çπ18/kg | Cotton ‚Çπ6600/q",
Sangli:"Grapes ‚Çπ40/kg | Turmeric ‚Çπ130/kg"
};

/* SUGGESTED CROPS */
const cropSuggest={
Pune:"Sugarcane, Wheat, Vegetables",
Nashik:"Grapes, Onion, Wheat",
Aurangabad:"Cotton, Bajra, Moong",
Kolhapur:"Rice, Sugarcane, Banana",
Amravati:"Soybean, Wheat, Cotton",
Jalgaon:"Cotton, Banana, Jowar",
Sangli:"Grapes, Turmeric, Sugarcane"
};

/* AUTO DETECT */
function detectLocation(){
document.getElementById("district").value="Pune";
document.getElementById("distText").innerHTML="Auto Detected District: Pune";
}

/* MAIN PREDICTION */
function predict(){
let crop=document.getElementById("crop").value;
let soil=document.getElementById("soil").value;
let area=document.getElementById("area").value;
let district=document.getElementById("district").value;
let lang=document.getElementById("lang").value;

if(!area)return alert("Enter farm area");

let fertilizer={
Wheat:"NPK 100:50:50",Rice:"NPK 80:40:40",
Cotton:"NPK 60:30:30",Soybean:"NPK 20:40:20",
Sugarcane:"NPK 160:80:80"
}[crop];

let L=langText[lang];
let tips=longTips[crop];

/* UPDATE RESULT */
let text=`
<b>${L.district}:</b> ${district}<br>
<b>${L.crop}:</b> ${crop}<br>
<b>${L.soil}:</b> ${soil}<br>
<b>${L.area}:</b> ${area} acres<br><br>

<b>${L.fertilizer}:</b> ${fertilizer}<br><br>
<b>${L.tips}:</b><br>${tips}<br><br>

<div style='background:#ffe680;color:#000;padding:12px;border-radius:10px;'>
<b>${L.buyTitle}:</b><br>
<a href='https://agribegri.com/fertilizers' target='_blank'>
${L.buyBtn}</a></div>`;

document.getElementById("resultBox").innerHTML=text;
document.getElementById("resultBox").classList.add("show");

/* SHOW IMAGE */
let img=document.getElementById("cropImage");
img.src=cropImages[crop];
img.style.display="block";

/* IMAGE ERROR FIX */
img.onerror=()=>{ img.style.display="none"; console.log("Image failed"); };

document.getElementById("weatherBox").innerHTML=`<b>Weather:</b><br>${weatherData[district]}`;
document.getElementById("apmcBox").innerHTML=`<b>APMC Rates:</b><br>${apmcRates[district]}`;
document.getElementById("cropSuggestBox").innerHTML=`<b>Suggested Crops:</b><br>${cropSuggest[district]}`;

document.getElementById("tipsTricksBox").style.display="block";

speak(text,lang);
}

/* SPEAK */
function speak(text,lang){
if(document.getElementById("audioToggle").value==="off")return;
let msg=new SpeechSynthesisUtterance(text);
msg.lang=lang==="mr"?"mr-IN":lang==="hi"?"hi-IN":"en-US";
msg.rate=.9;
speechSynthesis.speak(msg);
}

/* VOICE INPUT */
function startVoice(){
let rec=new webkitSpeechRecognition();
rec.lang="mr-IN";

rec.onresult=e=>{
let sp=e.results[0][0].transcript;

/* VOICE TO CROP SELECTION */
if(sp.includes("‡§ó‡§π‡•Ç")) document.getElementById("crop").value="Wheat";
if(sp.includes("‡§≠‡§æ‡§§")) document.getElementById("crop").value="Rice";
if(sp.includes("‡§ï‡§æ‡§™‡•Ç‡§∏")) document.getElementById("crop").value="Cotton";
if(sp.includes("‡§∏‡•ã‡§Ø‡§æ‡§¨‡•Ä‡§®")) document.getElementById("crop").value="Soybean";
if(sp.includes("‡§ä‡§∏")) document.getElementById("crop").value="Sugarcane";

predict();
};

rec.start();
}
</script>

</body>
</html>
